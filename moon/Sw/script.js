$(function() {

  var quotes = [{
    quote: 'Her entry into my life was like a profound revelation. At first, I thought I wanted to stay alone and die for the country. But after her influence, I realized my true purpose was to balance my love for both country and family. Love indeed has the power to reshape our priorities.',
    author: 'Bala'
  }, {
    quote: 'Love can change anything, just like how she changed my thought process unknowingly and invisibly. Even though she is not with me, that\'s known as divine transformation. Anyway, thanks to her, I\'m saving all these memories',
    author: 'Bala'
  }, {
    quote: 'A relationship of solider is unexpected! But everyone knows the ending. When a soldier is born, the countdown begins. Fear of death fades, and the purpose within him gleams.\'In service and sacrifice, his legacy transcends',
    author: 'Bala'
  }, {
    quote: 'നിന്റെ ഒരുത്തിയെ തവിറ എന്നോടാ ഹൃദയത്തിൽ ഇത്യ തുടുപ്പിക്കു മാത്രം താൻ ഇടമിരുക്ക്, എന്റെ ജീവിതത്തിന്റെ തകർപ്പൻ അവതാൻ. എന്റെ ജീവിതപുരാണം പറഞ്ഞാൽ എന്നോട പ്രണയം നിനക്ക് മാത്രം , എവളോ ശ്രമിക്കണം ,ഉന്ന ഞാൻ പ്രണയിക്കരുത് എന്ന് തീരുമാനിച്ചു. ഞാനും വേണാന്നു എവ്ളോത തടയുറതു അനാ നിന്റെ പാത്തലേ എന്റെ മനസ്സു കേക്കാതെ. അവ എനിക്ക് സ്വന്തമായേക്കാവുന്നില്ല, ഒരു ദിവസം അവ വേറെ ഒരുത്തർക്ക് സ്വന്തമായി പോരാന്നു അറിയാം അനാ അതിനായി എന്റെ പ്രണയം കൊറച്ചതില്ല, എന്നോടത് ഒരു തലൈ പ്രണയം ആണെങ്കിലും ഈ ജന്മത്തിന് ഇത് മാത്രം മതി. എല്ലാരും പ്രണയത്താൽ മുഴുകിയായി അനാ വെളിയ വരാ ആരും ഇഷ്ടപ്പെടുന്നില്ല.',
    author: 'Bala'
  }, {
    quote: 'Apart from you, there is only room in my heart for this passion; it is the pulse of my life. Even though I have been telling myself all my life that my love is solely for you, I leave it to you to decide whether I should love you, no matter what. I don\'t want to, but my mind won\'t stop when I look at you. My intellect understands that you cannot belong to me. I know that one day, you will belong to someone else, but my love does not waver because of that. Even if I have a one-sided love, it is enough for this lifetime. No one wants to emerge from it brimming with love.',
    author: 'Bala'
  }, {
    quote: 'In the shadow\'s embrace, I stand as a soldier, unwavering and bold, ready to give my all for the land I hold dear',
    author: 'Bala'
  }, {
    quote: 'My passion drives me in everything I do, putting dedication above all else each day, nurturing my dreams and aspirations, My commitment to defend my nation is etched in stone, an unbreakable vow that no force can disown',
    author: 'Bala'
  }, {
    quote: 'Be the Boss and hold that supremacy',
    author: 'Bala'
  }, {
    quote: 'In the darkest of storms, I can find the strength to weather any tempest. Life\'s fairness may wane, but my resilience shines brightest when I navigate the roughest seas of relationships and family.',
    author: 'Bala'
  }, {
    quote: 'In a world of betrayals, unfulfilled expectations, and being used, I find solace in the laughter that dances with my sadness instead of letting tears drown my spirit.',
    author: 'Bala'
  }, {
    quote: 'In this journey of life, I may not seek recognition, much like a shadow person. But I hold onto the belief that in the afterlife, my unacknowledged efforts will be recognised. The scars from family, friendships, and lost loves may run deep, yet I find relief in the knowledge that my worth exceeds these wounds. Born to be a soldier, selfishness is foreign to my spirit; I thrive by extending a helping hand. Now, armed with wisdom but cloaked in solitude, I am surrounded by shadows, seeking recognition that only death may provide. ',
    author: 'Bala'
  }, {
    quote: 'It\'s funny how sometimes the people you\'d take a bullet for are the ones behind the trigger.',
    author: 'Bala'

  }, {
    quote: 'Once a soldier, always a soldier True soldiers don\'t need uniforms; I wear soldiers courage and dedication as armour. I learn to wield the sword of self-control, forging the fire within, forever standing ready to protect and serve.',
    author: 'Bala'
  }, {
    quote: 'If her tears were to fall, I would be ready to confront the entire world, only for her, for within her sorrow resides a universe of emotions that profoundly affect the core of my existence.',
    author: 'Bala'
  }, {
    quote: ' I express my profound love for you through a digital platform, but I\'m saddened by the fact that our affection seems one-sided because of misunderstandings. I use metaphors of a cyberwar, drawing upon historical imagery, to illustrate the difficulties I encounter in expressing my love. Despite these challenges, I hope for eventual understanding and a harmonious union between us. Sadly, the poem suggests a farewell, indicating that our love, though unspoken, will endure as a lasting legacy.',
    author: 'Bala'
  }, {
    quote: 'From hacker to soldier, what a wild twist,Broken keyboards swapped for grenades in the midst.Country called, and now I fights with code and fist!',
    author: 'Bala'
  }, {
    quote: 'As a future officer, envisioning my journey in life\'s battlefield, tears well up in my eyes. I long to face my destiny like Abhimanyu, displaying boundless courage and strength not only for myself but for my fellow countrymen. Amidst the trials and sacrifices, I seek recognition, hoping to be remembered for the unwavering spirit I carry within. Lord Krishna\'s words from the Bhagavad Gita, "Set your heart upon your work, but never on its reward," resonate deeply, providing solace and purpose to my dedicated pursuit. Every step I take, I carry the dreams of my ancestors and the hopes of a united, prosperous future, evoking tears of pride and unwavering resolve.',
    author: 'Bala'
  }, {
    quote: 'In moments of self-doubt about my roles as a son, brother, or boyfriend, one unshakable truth holds me together – I am a soldier. I chose this path willingly, placing my country above all else, fully understanding the sacrifices it entails. Amidst my uncertainties, one thing remains crystal clear – the deep and unwavering love I have for my country. This is my life, a coder and a soldier, a journey both challenging and deeply fulfilling',
    author: 'Bala'
  }];

  // vars
  var i = 0;
  var x = 0;
  var result = [];
  var $element = $('#quote');
  var $tweet = $('#tweet-wrapper');
  var htmlOutput;
  // IIFE - get array of random numbers
  (function() {

    var minNum = 0;
    var maxNum = quotes.length;
    var randomNum = 0;

    while (result.length < maxNum) {
      randomNum = Math.floor(Math.random() * (maxNum - minNum)) + minNum;
      // if random number doesnt exists in array push it to array
      if (result.indexOf(randomNum) > -1) continue;
      result.push(randomNum);
    }
  })();


  function output() {
    // x iterates quotes obj
    if (x < quotes.length) {
      var num = result[x];
  
      htmlOutput = '<p>' + quotes[num].quote + '</p>' + '<footer><a href="#" class="brackets author">' + quotes[num].author + '</a><span class="cursor blink">&#9646;</span></footer>';
      
      $('#' + num).addClass('opened');
    } else {
      htmlOutput = '<div class="warning"><span>WARNING</span><p> No more new quotes <span class="cursor blink">&#9646;</span></p></div>';
    }
  
    // Remove the href attribute from the link
    //$tweet.html('<a class="btn">Tweet Quote</a>');
  
    //$element.html(htmlOutput);
    x++;
    return render();
  };
  
  output();


  var isTag, char, text;

  function render() {
    //console.log('i',i);

    text = htmlOutput.slice(0, i++);

    if (text === htmlOutput) return i = 0;

    $element.html(text + '&#9646;');

    char = text.slice(-1);

    if (char === '<') isTag = true;
    if (char === '>') isTag = false;

    if (isTag) return render();

    return setTimeout(render, 20);
  };

  $('#newQuoteBtn').on('click', function() {

    output();

  });


});